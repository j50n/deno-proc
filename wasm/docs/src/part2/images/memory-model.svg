<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 400">
  <defs>
    <linearGradient id="stackGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b6b"/>
      <stop offset="100%" style="stop-color:#ee5a5a"/>
    </linearGradient>
    <linearGradient id="heapGrad" x1="0%" y1="100%" x2="0%" y2="0%">
      <stop offset="0%" style="stop-color:#4ecdc4"/>
      <stop offset="100%" style="stop-color:#44a08d"/>
    </linearGradient>
    <linearGradient id="vmGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#a29bfe"/>
      <stop offset="100%" style="stop-color:#6c5ce7"/>
    </linearGradient>
  </defs>
  
  <!-- Title -->
  <text x="300" y="30" text-anchor="middle" font-family="system-ui" font-size="20" font-weight="bold" fill="#2d3436">WASM Memory Model</text>
  
  <!-- Value Stack (VM-managed) -->
  <rect x="50" y="60" width="150" height="300" rx="8" fill="url(#vmGrad)" opacity="0.9"/>
  <text x="125" y="90" text-anchor="middle" font-family="system-ui" font-size="14" font-weight="bold" fill="white">Value Stack</text>
  <text x="125" y="110" text-anchor="middle" font-family="system-ui" font-size="11" fill="white">(VM-managed)</text>
  
  <!-- Value stack items -->
  <rect x="65" y="130" width="120" height="30" rx="4" fill="white" opacity="0.3"/>
  <text x="125" y="150" text-anchor="middle" font-family="monospace" font-size="11" fill="white">i32 local</text>
  <rect x="65" y="170" width="120" height="30" rx="4" fill="white" opacity="0.3"/>
  <text x="125" y="190" text-anchor="middle" font-family="monospace" font-size="11" fill="white">f64 local</text>
  <rect x="65" y="210" width="120" height="30" rx="4" fill="white" opacity="0.3"/>
  <text x="125" y="230" text-anchor="middle" font-family="monospace" font-size="11" fill="white">return addr</text>
  
  <text x="125" y="280" text-anchor="middle" font-family="system-ui" font-size="10" fill="white">Not addressable</text>
  <text x="125" y="295" text-anchor="middle" font-family="system-ui" font-size="10" fill="white">No pointers allowed</text>
  
  <!-- Linear Memory -->
  <rect x="250" y="60" width="300" height="300" rx="8" fill="#dfe6e9" stroke="#b2bec3" stroke-width="2"/>
  <text x="400" y="85" text-anchor="middle" font-family="system-ui" font-size="14" font-weight="bold" fill="#2d3436">Linear Memory</text>
  
  <!-- Linear Stack (at bottom/low addresses) -->
  <rect x="260" y="280" width="280" height="70" rx="4" fill="url(#stackGrad)"/>
  <text x="400" y="305" text-anchor="middle" font-family="system-ui" font-size="12" font-weight="bold" fill="white">Linear Stack</text>
  <text x="400" y="322" text-anchor="middle" font-family="system-ui" font-size="10" fill="white">structs, &amp;variables</text>
  <text x="400" y="338" text-anchor="middle" font-family="system-ui" font-size="10" fill="white">grows ↓</text>
  
  <!-- Heap (grows up) -->
  <rect x="260" y="100" width="280" height="80" rx="4" fill="url(#heapGrad)"/>
  <text x="400" y="130" text-anchor="middle" font-family="system-ui" font-size="12" font-weight="bold" fill="white">Heap</text>
  <text x="400" y="150" text-anchor="middle" font-family="system-ui" font-size="10" fill="white">allocations, strings</text>
  <text x="400" y="166" text-anchor="middle" font-family="system-ui" font-size="10" fill="white">grows ↑</text>
  
  <!-- Free space -->
  <rect x="260" y="185" width="280" height="90" rx="4" fill="white" stroke="#b2bec3" stroke-dasharray="4"/>
  <text x="400" y="235" text-anchor="middle" font-family="system-ui" font-size="11" fill="#636e72">Free Space</text>
  
  <!-- Address labels -->
  <text x="555" y="345" text-anchor="end" font-family="monospace" font-size="10" fill="#636e72">0x00000</text>
  <text x="555" y="105" text-anchor="end" font-family="monospace" font-size="10" fill="#636e72">0x110000</text>
  
  <!-- Arrow showing growth directions -->
  <path d="M 545 170 L 545 120" stroke="#44a08d" stroke-width="2" fill="none" marker-end="url(#arrowGreen)"/>
  <path d="M 545 260 L 545 310" stroke="#ee5a5a" stroke-width="2" fill="none" marker-end="url(#arrowRed)"/>
  
  <defs>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#44a08d"/>
    </marker>
    <marker id="arrowRed" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#ee5a5a"/>
    </marker>
  </defs>
</svg>
